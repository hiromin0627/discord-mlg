# discord-mlg
PythonベースのDiscord用ボットのアイドルマスターミリオンライブシアターデイズのガシャシミュレーターです。  
現状、Discord.pyが音声を二重再生させることができない（わからない）ため、BGMを鳴らす場合は2つのボットを作成する必要がある。  

# MLG v2.2.0より新しいボットを使っている方へ
v2.2.0以降は以下のリンクからMLGデータベースを手動でダウンロード、更新してください！  
[DOWNLOAD MLG DATA](https://www.dropbox.com/sh/dph3omqrb0mn1y2/AAARp4G9iI6PaqmAYYGrW17xa?dl=0)  
**「gacha_data」**フォルダにダウンロードしたデータを**展開**してください。   
![Imgur](https://i.imgur.com/6bbbiVE.png)  
  
データベースの内容はこちらのWikiページを確認してください  
[ガシャデータベースの内容](https://github.com/hiromin0627/discord-mlg/wiki/ガシャデータベースの内容)  
  
## 導入方法
1. Python 3.7以降を導入してください。
1. 最新版のdiscord.py（v1.0.0以降）をインストールしてください。
1. ffmpegを導入し、PATHも通してください。
1. Discordのデベロッパーサイトからトークンを入手してください。
1. Discordのデベロッパーサイトにて招待リンクを作成し、使用予定のサーバーに導入してください（管理者権限持つのが一番楽）。
1. discord-mlgのconfig.iniにトークンとテキストチャンネルID（ガシャ結果ログ出力用）を入力してください。
    1. BGMも使う場合は、トークン（BGMボット用）とテキストチャンネルID（Bot同士の会話用）を用意、入力してください。
1. main.pyをPythonで起動します（Windowsだったらrun.batファイルを使用できます）。
    1. BGMを使用するならば、bgm.pyを起動します（Windowsならrun_bgm.batが使用できます）。
1. 素敵なガシャライフを！

## 遊び方
- 「MLガシャ」または「MLgacha」、「ML轉蛋」、「ML촬영」と入力するとミリシタのガシャを引くことができます。  
- 「MLガシャ10」または「MLgacha10」、「ML轉蛋10」、「ML촬영10」のように入力すると10連ガシャになります。
- 先頭語の「ML」はConfig.iniで変更できます。
  
## コマンド
- MLガシャ or MLgacha or ML轉蛋 or ML촬영 : ミリシタのガシャを引くことができます。 
- MLreload : ミリシタガシャのデータを変更した際、起動中にデータを入れ替えることができます。  
- MLreset : 全ユーザーのガシャのカウント（ドリームスター）の数をリセットできます。
- MLcard : ユーザーの持っているカードリストを確認できます。
- MLpickup : 現在のピックアップカードを確認できます。「cn」や「kr」などを言語省略語を入れると別の言語のガシャピックアップカードを確認できます。
- MLcall : カード名を入力することによってカード絵を確認できます。ただし、「シアターデイズ」と「制服シリーズ」はアイドル名も必要です。
  
### MLガシャのコマンドオプション  
- 「MLガシャ10」コマンドに「10」を追加すると10連ガシャがプレイできます。  
- 「MLガシャ」コマンドに「ja」か「cn」か「kr」を追加すると他の国のガシャをプレイできます（v2.0.0以降）。
- 「ja」が日本語、「cn」が中国語繁体字、「kr」が韓国語です。
- これらのオプションは「MLガシャ10cn」のように併用可能です。

## 中国語繁体字版と韓国語版の記録データの互換性  
- 中国語繁体字版と韓国語版の記録データには互換性があります。
- ただし日本語版と中国語繁体字版と韓国語版の記録データには互換性がありませんので注意してください。
  
## バージョン履歴
[バージョン履歴はこちら](https://github.com/hiromin0627/discord-mlg/wiki/バージョン履歴)